"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getViewsText(e){var r,t,a,u,n;return _regenerator2["default"].async(function(i){for(;;)switch(i.prev=i.next){case 0:return r="#pl-header .pl-header-details li",t={uri:"https://www.youtube.com/playlist",headers:{"accept-language":"en"},qs:{list:e},transform:function(e){return _cheerio2["default"].load(e)}},a=_ramda2["default"].find(_ramda2["default"].pipe(_ramda2["default"].match(/views/),_ramda2["default"].complement(_ramda2["default"].isEmpty))),i.next=5,_regenerator2["default"].awrap((0,_requestPromise2["default"])(t));case 5:if(u=i.sent,n=u(r).map(function(e,r){return u(r).text()}).get(),!_ramda2["default"].isEmpty(n)){i.next=9;break}throw new Error("playlist is not suitable");case 9:return i.abrupt("return",a(n));case 10:case"end":return i.stop()}},null,this)}function viewsTextToNum(e){var r=_ramda2["default"].pipe(_ramda2["default"].trim,_ramda2["default"].split(" "),_ramda2["default"].head),t=_ramda2["default"].when(_ramda2["default"].equals("No"),_ramda2["default"].always("0")),a=_ramda2["default"].pipe(_ramda2["default"].replace(/,/g,""),parseInt);return _ramda2["default"].pipe(r,t,a)(e)}Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_ramda=require("ramda"),_ramda2=_interopRequireDefault(_ramda),_requestPromise=require("request-promise"),_requestPromise2=_interopRequireDefault(_requestPromise),_cheerio=require("cheerio"),_cheerio2=_interopRequireDefault(_cheerio),vseeker={gotcha:function(e){var r;return _regenerator2["default"].async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_regenerator2["default"].awrap(getViewsText(e));case 2:return r=t.sent,t.abrupt("return",viewsTextToNum(r));case 4:case"end":return t.stop()}},null,this)},getViewsText:getViewsText,viewsTextToNum:viewsTextToNum};exports["default"]=vseeker;
//# sourceMappingURL=youtube-playlist-views.min.js.map
